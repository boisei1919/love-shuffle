<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>에브리타임 - 크랙 대학교</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* [Reset & Base] */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background-color: #f2f2f2;
            color: #292929;
            font-size: 14px;
            padding-top: 50px;
            padding-bottom: 60px;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        ul { list-style: none; }
        a { text-decoration: none; color: inherit; }
        
        /* [Screen Transition] */
        .screen { display: none; min-height: 100vh; animation: fadeIn 0.2s; }
        .screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* [Header] */
        header {
            position: fixed; top: 0; left: 0; width: 100%; height: 50px;
            background: white; border-bottom: 1px solid #ededed;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 20px; z-index: 1000;
        }
        .header-title h1 { font-size: 12px; color: #c62917; margin-bottom: 2px; }
        .header-title h2 { font-size: 16px; font-weight: bold; }
        .header-icons { display: flex; gap: 18px; font-size: 20px; color: #333; }
        
        .sub-header {
            position: fixed; top: 0; left: 0; width: 100%; height: 50px;
            background: white; border-bottom: 1px solid #ededed;
            display: flex; align-items: center; padding: 0 15px; z-index: 1001;
            font-size: 16px; font-weight: bold; display: none;
        }
        .sub-header i { margin-right: 15px; font-size: 18px; cursor: pointer; }

        /* [Components] */
        .card { background: white; padding: 20px; margin-bottom: 10px; border-bottom: 1px solid #e3e3e3; }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; cursor: pointer; }
        .section-title { font-size: 16px; font-weight: bold; color: #292929; }
        
        .quick-menu { background: white; padding: 20px 0; display: flex; justify-content: space-around; margin-bottom: 10px; }
        .q-item { display: flex; flex-direction: column; align-items: center; gap: 8px; font-size: 11px; color: #444; cursor: pointer; }
        .q-icon { width: 44px; height: 44px; background: #fbe6e6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #c62917; font-size: 20px; }

        .post-item { padding: 12px 0; border-bottom: 1px solid #f9f9f9; cursor: pointer; }
        .post-item:last-child { border-bottom: none; }
        .post-title { font-size: 15px; font-weight: 500; margin-bottom: 4px; line-height: 1.3; }
        .post-desc { font-size: 13px; color: #888; margin-bottom: 4px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}
        .post-meta { display: flex; justify-content: space-between; font-size: 11px; color: #a6a6a6; }
        .post-stats span { margin-left: 8px; }
        .color-red { color: #c62917; } .color-teal { color: #0ca5af; }

        /* [Comments] */
        .comment-item { padding: 10px 0; border-bottom: 1px solid #f9f9f9; }
        .comment-header { margin-bottom: 5px; font-size: 13px; font-weight: bold; display: flex; align-items: center; }
        .my-tag { border: 1px solid #c62917; color: #c62917; font-size: 10px; padding: 0 3px; border-radius: 3px; margin-left: 5px; }
        .comment-body { font-size: 13px; color: #444; line-height: 1.4; }
        .my-comment-bg { background-color: #f4fcff; padding: 10px; border-radius: 8px; margin-bottom: 5px; }

        /* [Profiles] */
        .named-card { background: white; border-radius: 12px; border: 1px solid #eee; padding: 20px; margin-bottom: 15px; }
        .named-header { display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #f2f2f2; padding-bottom: 10px; }
        .named-img { width: 60px; height: 60px; background: #333; border-radius: 50%; margin-right: 15px; flex-shrink: 0; }
        .named-info h3 { font-size: 18px; font-weight: bold; color: #292929; }
        .named-info span { font-size: 12px; color: #c62917; font-weight: bold; margin-left: 5px;}
        .named-detail li { font-size: 13px; color: #555; margin-bottom: 6px; display: flex; border-bottom: 1px dashed #f5f5f5; padding-bottom: 4px; }
        .named-detail li b { width: 60px; display: inline-block; color: #333; flex-shrink: 0; }

        /* [Message Item] */
        .msg-item { display: flex; align-items: center; padding: 12px 0; border-bottom: 1px solid #f9f9f9; cursor: pointer; }
        .msg-icon { width: 44px; height: 44px; border-radius: 12px; margin-right: 15px; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; flex-shrink: 0; }
        .msg-content { flex: 1; overflow: hidden; }
        .msg-top { display: flex; justify-content: space-between; margin-bottom: 4px; }
        .msg-sender { font-weight: bold; font-size: 14px; }
        .msg-time { font-size: 11px; color: #aaa; }
        .msg-preview { font-size: 13px; color: #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* [Tables] */
        .info-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .info-table th, .info-table td { padding: 12px; border-bottom: 1px solid #eee; text-align: left; }
        .info-table th { color: #888; font-weight: normal; width: 70px; }
        .info-table td { font-weight: bold; }
        .price { float: right; color: #c62917; }

        /* [Lecture Eval] */
        .lecture-item { padding: 15px 0; border-bottom: 1px solid #f2f2f2; }
        .star-rating { color: #ffc107; font-size: 12px; margin-bottom: 5px; }
        .lecture-name { font-size: 15px; font-weight: bold; margin-bottom: 3px; }
        .prof-name { font-size: 12px; color: #888; margin-bottom: 8px; }
        .lecture-review { font-size: 13px; color: #444; }

        /* [Floating Write Button] */
        .fab-write {
            position: fixed; bottom: 80px; right: 20px; width: 56px; height: 56px;
            background: #c62917; border-radius: 50%; color: white;
            display: flex; align-items: center; justify-content: center;
            font-size: 24px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 2000; cursor: pointer;
        }

        /* [Modal] */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 3000; display: none; justify-content: center; align-items: center;
        }
        .modal-content {
            background: white; width: 90%; max-width: 500px; height: 80vh;
            border-radius: 10px; display: flex; flex-direction: column; overflow: hidden;
        }
        .modal-header { padding: 15px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; font-weight: bold; }
        .modal-body { padding: 20px; flex: 1; display: flex; flex-direction: column; gap: 10px; }
        .modal-footer { padding: 15px; border-top: 1px solid #eee; text-align: right; }

        /* [Bottom Nav] */
        nav.bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 60px;
            background: white; border-top: 1px solid #e3e3e3;
            display: flex; justify-content: space-around; align-items: center; z-index: 1000;
        }
        .nav-item { display: flex; flex-direction: column; align-items: center; justify-content: center; color: #a6a6a6; width: 25%; height: 100%; cursor: pointer; }
        .nav-item.active { color: #292929; }
        .nav-item i { font-size: 22px; margin-bottom: 4px; }
        .nav-item span { font-size: 10px; }
/* [Dark Mode Overrides] - 최종 수정 (배경색 완벽 차단) */
        
        /* 1. 기본 배경 및 텍스트 */
        body.dark-mode { 
            background-color: #000000 !important; 
            color: #e0e0e0; 
        }

        /* 2. ★범인 검거★ 마이페이지 등 화면 전체 배경을 블랙으로 강제 변경 */
        body.dark-mode .screen,
        body.dark-mode #screen-mypage, 
        body.dark-mode #screen-home {
            background-color: #000000 !important;
        }

        /* 3. 카드(흰색 박스)를 다크 그레이로 변경 */
        body.dark-mode header, 
        body.dark-mode .sub-header, 
        body.dark-mode .bottom-nav, 
        body.dark-mode .card, 
        body.dark-mode .named-card, 
        body.dark-mode .quick-menu, 
        body.dark-mode .modal-content,
        body.dark-mode #screen-post-detail,
        body.dark-mode #screen-cafeteria,
        body.dark-mode #screen-calendar,
        body.dark-mode #screen-lecture { 
            background-color: #1c1c1e !important; /* 고급진 다크 그레이 */
            border-color: #2c2c2e !important;     /* 테두리는 아주 연하게 */
            color: #ffffff !important;
        }
        
        /* 4. 흰색/밝은 회색으로 박혀있는 인라인 스타일 강제 제거 */
        body.dark-mode div[style*="background:#fff"],
        body.dark-mode div[style*="background:white"],
        body.dark-mode div[style*="background:#f9f9f9"],
        body.dark-mode div[style*="background:#f2f2f2"] {
            background-color: #1c1c1e !important; /* 카드 색과 통일 */
            border-color: #2c2c2e !important;
            color: #fff !important;
        }
        
        /* 5. 텍스트 색상 하얗게 */
        body.dark-mode h1, body.dark-mode h2, body.dark-mode h3, 
        body.dark-mode .section-title, 
        body.dark-mode .post-title,
        body.dark-mode .named-info h3,
        body.dark-mode .modal-header span,
        body.dark-mode .lecture-name,
        body.dark-mode .msg-sender {
            color: #ffffff !important;
        }

        /* 6. 본문 텍스트 회색으로 */
        body.dark-mode .post-desc, 
        body.dark-mode .msg-preview, 
        body.dark-mode .q-item span,
        body.dark-mode .comment-body, 
        body.dark-mode .named-detail li,
        body.dark-mode .lecture-review,
        body.dark-mode p {
            color: #b0b0b0 !important;
        }

        /* 7. 아이콘 색상 */
        body.dark-mode .header-icons, 
        body.dark-mode .sub-header i,
        body.dark-mode .nav-item i { 
            color: #ffffff !important; 
        }
        
        /* 8. 탭바 비활성 색상 */
        body.dark-mode .nav-item { color: #666 !important; }
        body.dark-mode .nav-item.active { color: #fff !important; }

        /* 9. 입력창 */
        body.dark-mode input, body.dark-mode textarea {
            background-color: #2c2c2e !important; 
            border-color: #3a3a3c !important; 
            color: #fff !important;
        }
        
        /* 10. 마이페이지 섹션 타이틀(계정, 커뮤니티 등) 텍스트 색 */
        body.dark-mode #screen-mypage div[style*="color:#888"] {
            color: #777 !important;
            background-color: transparent !important; /* 배경 투명하게 */
        }
        
        /* 11. 댓글 배경 등 */
        body.dark-mode .my-comment-bg { background-color: #2a2a2a !important; }
        
        /* 12. 리스트 구분선 */
        body.dark-mode .post-item, 
        body.dark-mode .msg-item, 
        body.dark-mode .comment-item,
        body.dark-mode .lecture-item, 
        body.dark-mode li {
            border-color: #2c2c2e !important;
        }

        /* 토글 스위치 애니메이션 */
        .toggle-switch { transition: background-color 0.2s; }
        .toggle-circle { transition: left 0.2s; }
        /* [다크모드 팝업 텍스트 긴급 수정] */
        body.dark-mode #popup-text,
        body.dark-mode #popup-time,
        body.dark-mode #popup-sender {
            color: #ffffff !important;
        }
        
        /* 닫기 버튼 글씨도 잘 보이게 수정 */
        body.dark-mode .modal-footer button {
            color: #333 !important; /* 버튼 글씨는 진하게 유지 */
        }
      /* [내가 쓴 글 & 삭제 버튼 스타일 추가] */
        .post-item.my-post {
            background-color: #fff8f8; /* 아주 연한 빨강 배경 */
            border-left: 3px solid #c62917; /* 에타 색상 강조 선 */
            padding-left: 10px !important; /* 선 두께만큼 여백 */
        }
        
        /* 삭제 버튼 */
        .btn-delete {
            background-color: #c62917;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 3px 8px;
            font-size: 11px;
            cursor: pointer;
            margin-left: 8px;
            flex-shrink: 0; /* 제목이 길어도 버튼 크기 유지 */
        }

        /* 다크모드 대응 */
        body.dark-mode .post-item.my-post {
            background-color: #252525 !important; /* 다크모드일 때 배경 */
            border-left: 3px solid #c62917;
            color: #fff !important;
        }
       /* [글쓴이(작성자) 강조 스타일 - 사이즈 UP 버전] */
        .writer-tag {
            border: 1px solid #0ca5af; /* 청록색 테두리 */
            color: #0ca5af;            /* 청록색 글씨 */
            font-size: 13px;           /* 10px -> 13px (일반 닉네임 크기로 확대) */
            font-weight: 800;          /* 더 굵게 */
            padding: 3px 10px;         /* 내부 여백을 넉넉하게 줘서 옹졸함 탈피 */
            border-radius: 15px;       /* 둥글게 처리해서 배지 느낌 */
            display: inline-block;     /* 높이/너비 적용 */
            vertical-align: middle;    /* 높이 중앙 정렬 */
        }
        
        /* 다크모드 대응 */
        body.dark-mode .writer-tag {
            border-color: #4fd1db;
            color: #4fd1db;
        }
    </style>
</head>
<body>

    <!-- 헤더 -->
    <header id="main-header">
        <div class="header-title">
            <h1>에브리타임</h1>
            <h2>크랙 대학교</h2>
        </div>
        <div class="header-icons">
            <i class="fas fa-search"></i>
            <i class="far fa-user" onclick="switchScreen('mypage')"></i>
        </div>
    </header>

    <div id="sub-header" class="sub-header">
        <i class="fas fa-arrow-left" onclick="goBack()"></i>
        <span id="sub-title">게시판</span>
    </div>

    <!-- 1. [HOME] 메인 화면 -->
    <div id="screen-home" class="screen active">
        <div class="quick-menu">
            <div class="q-item" onclick="switchScreen('profiles')"><div class="q-icon"><i class="fas fa-star"></i></div><span>크랙대 네임드</span></div>
            <div class="q-item" onclick="switchScreen('cafeteria')"><div class="q-icon"><i class="fas fa-utensils"></i></div><span>오늘의 학식</span></div>
            <div class="q-item" onclick="switchScreen('calendar')"><div class="q-icon"><i class="fas fa-calendar-check"></i></div><span>학사일정</span></div>
            <div class="q-item" onclick="switchScreen('lecture')"><div class="q-icon"><i class="fas fa-book-open"></i></div><span>강의평가</span></div>
        </div>

       <!-- 핫게 (목격담 + 스와핑 + 고양이 + 교수님 4개 표시) -->
        <div class="card">
            <div class="section-header"><span class="section-title" style="color:#c62917;">실시간 인기 글</span></div>
            
            <!-- 1. 목격담 -->
            <div class="post-item" onclick="loadPost('scandal', 'free')">
                <div class="post-title" style="font-weight:bold;">[실시간] 와 미친 예대 입구 서재이 봤냐? 분위기 ㅈ되네;;</div>
                <div class="post-desc">아니 나 교양 끝나고 나오는데 문 앞에서 담배 피우고 있길래 화보 찍는 줄 알았음...</div>
                <div class="post-meta">
                    <span>자유게시판</span>
                    <div class="post-stats">
                        <span class="color-red"><i class="fas fa-thumbs-up"></i> 412</span>
                        <span class="color-teal"><i class="fas fa-comment-dots"></i> 12</span>
                    </div>
                </div>
            </div>

            <!-- 2. 스와핑 -->
            <div class="post-item" onclick="loadPost('adult_swap', 'adult')">
                <div class="post-title" style="font-weight:bold;">CC끼리 스와핑(교환) 해본 사람 있냐? 후기 좀</div>
                <div class="post-desc">여친이랑 나랑 둘 다 성욕 많고 좀 개방적인 편임. 술자리에서 친한 커플이랑...</div>
                <div class="post-meta">
                    <span>성인게시판</span>
                    <div class="post-stats">
                        <span class="color-red"><i class="fas fa-thumbs-up"></i> 218</span>
                        <span class="color-teal"><i class="fas fa-comment-dots"></i> 11</span>
                    </div>
                </div>
            </div>

            <!-- 3. 고양이 -->
            <div class="post-item" onclick="loadPost('free_22', 'free')">
                <div class="post-title" style="font-weight:bold;">공학관 앞 치즈냥이 미쳤다 ㅠㅠ (사진)</div>
                <div class="post-desc">벤치에서 자고 있는데 발바닥 핑크 젤리 실화냐... 납치해서 키우고 싶다 하...</div>
                <div class="post-meta">
                    <span>자유게시판</span>
                    <div class="post-stats">
                        <span class="color-red"><i class="fas fa-thumbs-up"></i> 241</span>
                        <span class="color-teal"><i class="fas fa-comment-dots"></i> 3</span>
                    </div>
                </div>
            </div>

            <!-- 4. 윤지헌 교수님 -->
            <div class="post-item" onclick="loadPost('free_3', 'free')">
                <div class="post-title" style="font-weight:bold;">간호대 윤지헌 교수님 마주쳤는데 실시간으로 수염 자라는 기분임</div>
                <div class="post-desc">와 냄새가 걍... 안 씻은 땀 냄새 수준이 아님. 100년 묵은 농축된 수컷의 향기임. 엘리베이터 같이 탔는데...</div>
                <div class="post-meta">
                    <span>자유게시판</span>
                    <div class="post-stats">
                        <span class="color-red"><i class="fas fa-thumbs-up"></i> 156</span>
                        <span class="color-teal"><i class="fas fa-comment-dots"></i> 4</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 게시판 바로가기 -->
        <div class="card">
            <ul style="padding:0;">
                <li onclick="loadBoard('free')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer; font-weight:bold;">자유게시판 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i></li>
                <li onclick="loadBoard('secret')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer; font-weight:bold;">비밀게시판 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i></li>
                <li onclick="loadBoard('graduate')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer; font-weight:bold;">졸업생게시판 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i></li>
                <li onclick="loadBoard('freshman')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer; font-weight:bold;">새내기게시판 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i></li>
                <li onclick="loadBoard('adult')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer; font-weight:bold; color:#c62917;">성인게시판 (19) <i class="fas fa-lock" style="float:right;"></i></li>
            </ul>
        </div>
    </div>
    
    <!-- 1-1. [게시판 카테고리 모음] (새로 추가됨) -->
    <div id="screen-board-category" class="screen">
        <div class="card" style="margin-top:0;">
            <div class="section-title" style="margin-bottom:15px; padding:0 5px;">게시판 목록</div>
            <ul style="padding:0;">
                <li onclick="loadBoard('free', 'category')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer;">
                    <i class="fas fa-bullhorn" style="margin-right:10px; color:#c62917;"></i>자유게시판 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i>
                </li>
                <li onclick="loadBoard('secret', 'category')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer;">
                    <i class="fas fa-user-secret" style="margin-right:10px; color:#333;"></i>비밀게시판 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i>
                </li>
                <li onclick="loadBoard('graduate', 'category')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer;">
                    <i class="fas fa-graduation-cap" style="margin-right:10px; color:#555;"></i>졸업생게시판 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i>
                </li>
                <li onclick="loadBoard('freshman', 'category')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer;">
                    <i class="fas fa-baby" style="margin-right:10px; color:#ffb142;"></i>새내기게시판 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i>
                </li>
                <li onclick="loadBoard('adult', 'category')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer;">
                    <i class="fas fa-ban" style="margin-right:10px; color:#c62917;"></i>성인게시판 (19) <i class="fas fa-lock" style="float:right; color:#ccc;"></i>
                </li>
                <li onclick="loadBoard('my', 'category')" style="padding:15px; border-bottom:1px solid #f2f2f2; cursor:pointer;">
                    <i class="fas fa-list-alt" style="margin-right:10px; color:#0ca5af;"></i>내가 쓴 글 <i class="fas fa-chevron-right" style="float:right; color:#ddd;"></i>
                </li>
            </ul>
        </div>
    </div>
    

    <!-- 2. [게시판 목록 (동적 생성)] -->
    <div id="screen-board-list" class="screen">
        <div class="card" id="board-container" style="margin-top:0;">
            <!-- JS로 게시글 목록이 들어갑니다 -->
        </div>
    </div>

    <!-- 3. [게시글 상세] -->
    <!-- 3. [게시글 상세] -->
    <div id="screen-post-detail" class="screen" style="background:white;">
        <div style="padding:20px; border-bottom:1px solid #f2f2f2;">
            <div style="display:flex; align-items:center; margin-bottom:15px;">
                <!-- 프로필 사진 div 삭제됨 -->
                <div>
                    <div id="detail-writer" style="font-weight:bold;">익명</div>
                    <div class="post-meta">방금 · 조회 <span id="detail-view">0</span></div>
                </div>
            </div>
            <h2 id="detail-title" style="font-size:18px; font-weight:bold; margin-bottom:15px; line-height:1.4;"></h2>
            <p id="detail-content" style="line-height:1.6; color:#444; margin-bottom:20px; white-space: pre-line;"></p>
            <div class="post-meta">
                <div class="post-stats">
                    <span class="color-red"><i class="fas fa-thumbs-up"></i> <span id="detail-like">0</span></span>
                    <span class="color-teal"><i class="fas fa-comment-dots"></i> <span id="detail-comment-count">0</span></span>
                </div>
            </div>
        </div>
        <div id="detail-comments-area" style="padding:20px;"></div>
    </div>

    <!-- 4. [프로필 상세] -->
    <div id="screen-profiles" class="screen" style="background:#f9f9f9; padding:20px;">
        <h2 style="font-size:18px; font-weight:bold; margin-bottom:15px; color:#c62917;">크랙대 네임드 프로필</h2>
        <!-- 윤세아 -->
        <div class="named-card">
            <div class="named-header">
                <div class="named-img" style="background-color:#ffe4e1;"></div>
                <div class="named-info"><h3>윤세아 <span>(여)</span></h3><p style="font-size:13px; color:#777;">간호대학 3학년 (수석)</p></div>
            </div>
            <ul class="named-detail">
                <li><b>나이</b> 22세</li><li><b>신체</b> 166cm / 47kg (슬렌더)</li><li><b>MBTI</b> ISTP (만능재주꾼)</li><li><b>소속</b> 의료봉사동아리 팀장</li><li><b>특징</b> 쿨톤 냉미녀, 도도함</li>
            </ul>
        </div>
        <!-- 강단우 -->
        <div class="named-card">
            <div class="named-header">
                <div class="named-img" style="background-color:#d4e7f6;"></div>
                <div class="named-info"><h3>강단우 <span>(남)</span></h3><p style="font-size:13px; color:#777;">소프트웨어학과 3학년</p></div>
            </div>
            <ul class="named-detail">
                <li><b>나이</b> 24세</li><li><b>신체</b> 186cm / 85kg (근육질)</li><li><b>MBTI</b> ESTP (모험을 즐기는 사업가)</li><li><b>소속</b> 밴드부 키보드 세션</li><li><b>특징</b> 다혈질 츤데레, 유저 전남친</li>
            </ul>
        </div>
        <!-- 서재이 -->
        <div class="named-card">
            <div class="named-header">
                <div class="named-img" style="background-color:#e0e0e0;"></div>
                <div class="named-info"><h3>서재이 <span>(남)</span></h3><p style="font-size:13px; color:#777;">문예창작과 3학년 (탑)</p></div>
            </div>
            <ul class="named-detail">
                <li><b>나이</b> 24세</li><li><b>신체</b> 187cm / 78kg (슬림탄탄)</li><li><b>MBTI</b> ISTP (개인주의자)</li><li><b>소속</b> 문학동아리 '이단아' 회장</li><li><b>특징</b> 냉미남, 금수저, 윤세아 전남친</li>
            </ul>
        </div>
    </div>

    <!-- 5. [학식 & 학사일정 & 강의평가] -->
    <div id="screen-cafeteria" class="screen" style="background:white;">
        <div style="padding:20px; padding-bottom: 80px;">
            
            <!-- [오늘] -->
            <h2 style="font-size:20px; font-weight:bold; margin-bottom:10px; color:#c62917;">오늘의 학식 (5/07 금)</h2>
            <div class="card" style="margin:0 0 30px 0; border:1px solid #eee;">
                <div style="font-weight:bold; padding:12px; border-bottom:1px solid #eee; background:#f9f9f9;">점심 (11:00 ~ 14:00)</div>
                <table class="info-table">
                    <tr><th>양식</th><td>수제 등심 돈가스 <span class="price">5,500원</span></td></tr>
                    <tr><th>한식</th><td>돼지고기 김치찌개 <span class="price">4,500원</span></td></tr>
                    <tr><th>일품</th><td>참치마요 덮밥 <span class="price">4,800원</span></td></tr>
                    <tr><th>분식</th><td>해장 라면 + 공기밥 <span class="price">3,500원</span></td></tr>
                </table>
            </div>

            <!-- [내일] -->
            <h2 style="font-size:20px; font-weight:bold; margin-bottom:10px; color:#292929;">내일의 학식 (5/08 토)</h2>
            <div class="card" style="margin:0 0 30px 0; border:1px solid #eee;">
                <div style="font-weight:bold; padding:12px; border-bottom:1px solid #eee; background:#f9f9f9;">점심 (11:00 ~ 14:00)</div>
                <table class="info-table">
                    <tr><th>양식</th><td>치즈 함박 스테이크 <span class="price">6,000원</span></td></tr>
                    <tr><th>한식</th><td>해물 순두부 찌개 <span class="price">4,500원</span></td></tr>
                    <tr><th>일품</th><td>치킨마요 덮밥 <span class="price">4,800원</span></td></tr>
                    <tr><th>분식</th><td>꼬치 어묵 우동 <span class="price">4,000원</span></td></tr>
                </table>
            </div>

            <!-- [모레] -->
            <h2 style="font-size:20px; font-weight:bold; margin-bottom:10px; color:#292929;">모레의 학식 (5/09 일)</h2>
            <div class="card" style="margin:0; border:1px solid #eee;">
                <div style="font-weight:bold; padding:12px; border-bottom:1px solid #eee; background:#f9f9f9;">점심 (11:00 ~ 14:00)</div>
                <table class="info-table">
                    <tr><th>양식</th><td>토마토 미트 스파게티 <span class="price">5,500원</span></td></tr>
                    <tr><th>한식</th><td>뚝배기 소불고기 <span class="price">5,500원</span></td></tr>
                    <tr><th>일품</th><td>전주식 비빔밥 <span class="price">5,000원</span></td></tr>
                    <tr><th>분식</th><td>국물 떡볶이 + 튀김 <span class="price">4,000원</span></td></tr>
                </table>
            </div>

        </div>
    </div>

   <div id="screen-calendar" class="screen" style="background:white;">
        <div style="padding:20px; padding-bottom:80px;">
            <h2 style="font-size:20px; font-weight:bold; margin-bottom:20px; color:#c62917;">2026-1학기 주요 학사일정</h2>

            <!-- 3월 -->
            <div class="card" style="margin:0 0 20px 0; border:1px solid #eee;">
                <div style="font-weight:bold; padding:12px; border-bottom:1px solid #eee; background:#f9f9f9; color:#444;">3월 (개강 및 수강정정)</div>
                <table class="info-table">
                    <tr><th>3/02 (월)</th><td><span style="color:#c62917">1학기 개강</span></td></tr>
                    <tr><th>3/02 (월)</th><td>수강신청 확인 및 정정 기간 시작</td></tr>
                    <tr><th>3/06 (금)</th><td>수강신청 정정 기간 종료</td></tr>
                    <tr><th>3/27 (금)</th><td>수업일수 1/4선 (일반휴학 마감)</td></tr>
                </table>
            </div>

            <!-- 4월 -->
            <div class="card" style="margin:0 0 20px 0; border:1px solid #eee;">
                <div style="font-weight:bold; padding:12px; border-bottom:1px solid #eee; background:#f9f9f9; color:#444;">4월 (중간고사)</div>
                <table class="info-table">
                    <tr><th>4/08 (수)</th><td>수강신청 철회(W) 기간 시작</td></tr>
                    <tr><th>4/10 (금)</th><td>수강신청 철회(W) 기간 종료</td></tr>
                    <tr><th>4/20 (월)</th><td><span style="color:#c62917">중간고사 기간 시작</span></td></tr>
                    <tr><th>4/24 (금)</th><td>중간고사 기간 종료</td></tr>
                </table>
            </div>

            <!-- 5월 -->
            <div class="card" style="margin:0 0 20px 0; border:1px solid #eee;">
                <div style="font-weight:bold; padding:12px; border-bottom:1px solid #eee; background:#f9f9f9; color:#444;">5월 (축제 및 휴일)</div>
                <table class="info-table">
                    <tr><th>5/05 (화)</th><td>어린이날 (공휴일)</td></tr>
                    <tr><th>5/15 (금)</th><td>개교기념일 (휴강)</td></tr>
                    <tr><th>5/20 (수)</th><td><span style="color:#0ca5af">봄 대동제 (축제) 시작</span></td></tr>
                    <tr><th>5/22 (금)</th><td>봄 대동제 (축제) 종료</td></tr>
                    <tr><th>5/27 (수)</th><td>부처님오신날 (공휴일)</td></tr>
                </table>
            </div>

            <!-- 6월 -->
            <div class="card" style="margin:0; border:1px solid #eee;">
                <div style="font-weight:bold; padding:12px; border-bottom:1px solid #eee; background:#f9f9f9; color:#444;">6월 (기말고사 및 종강)</div>
                <table class="info-table">
                    <tr><th>6/06 (토)</th><td>현충일</td></tr>
                    <tr><th>6/08 (월)</th><td><span style="color:#c62917">1학기 기말고사 기간 시작</span></td></tr>
                    <tr><th>6/19 (금)</th><td>1학기 종강</td></tr>
                    <tr><th>6/22 (월)</th><td>하계 계절학기 개강</td></tr>
                    <tr><th>6/29 (월)</th><td>성적 열람 및 이의신청 기간</td></tr>
                </table>
            </div>
            
        </div>
    </div>

   <div id="screen-lecture" class="screen" style="background:white;">
        <div style="padding:20px; padding-bottom:80px;">
            <h2 style="font-size:20px; font-weight:bold; margin-bottom:20px; color:#c62917;">최근 강의평가</h2>
            
            <div class="card" style="margin:0; border:1px solid #eee;">
                
                <!-- 1. 윤지헌 교수 (요청하신 캐릭터) -->
                <div class="lecture-item">
                    <div class="star-rating">★★★☆☆</div>
                    <div class="lecture-name">인체구조와기능 (해부학)</div>
                    <div class="prof-name">윤지헌 교수님 (간호대학)</div>
                    <div class="lecture-review">
                        와 피지컬 진짜 압도적임. 문 열고 들어오시는데 곰 한 마리인 줄;; 키 2미터 다 되는 듯.<br>
                        강의력은 좋으신데... 교수님 제발 데오드란트 좀 부탁드립니다 ㅠㅠ<br>
                        여름에 나시 입고 칠판 필기하실 때 암내 때문에 앞줄 전멸했습니다. 털도 엄청 많으셔서 야수 그 자체임. 냄새만 아니면 5점인데 코가 너무 아파서 3점 드림.
                    </div>
                </div>

                <!-- 2. 꿀강의 -->
                <div class="lecture-item">
                    <div class="star-rating">★★★★★</div>
                    <div class="lecture-name">대중문화의 이해</div>
                    <div class="prof-name">이미나 교수님</div>
                    <div class="lecture-review">
                        ★전설의 꿀강★ 무조건 잡아라.<br>
                        영화 보고 감상문 한 장 쓰면 A+ 보장임. 교수님 천사 그 자체. 출석 체크도 널널함. 수강신청 1초 컷이니까 피시방 가라.
                    </div>
                </div>

                <!-- 3. 호불호 갈리는 교수 -->
                <div class="lecture-item">
                    <div class="star-rating">★★★★☆</div>
                    <div class="lecture-name">데이터베이스</div>
                    <div class="prof-name">박철민 교수님</div>
                    <div class="lecture-review">
                        과제 양이 미쳤음. 근데 확실히 남는 건 많음.<br>
                        교수님 츤데레 스타일이라 질문하면 화내면서 다 알려주심. 취업 생각하면 무조건 들어라. 학점은 짜게 주심.
                    </div>
                </div>

                <!-- 4. 기피해야 할 교수 -->
                <div class="lecture-item">
                    <div class="star-rating">★☆☆☆☆</div>
                    <div class="lecture-name">서양철학사</div>
                    <div class="prof-name">김영수 교수님</div>
                    <div class="lecture-review">
                        도망쳐.<br>
                        자기 책 강매하고 휴강 밥 먹듯이 함. 시험 문제도 안 배운 데서 냄. 성적 이의 제기했더니 "자네는 철학을 모르는구만" 시전함. F폭격기임.
                    </div>
                </div>

                <!-- 5. 또 다른 평범한 강의 -->
                <div class="lecture-item">
                    <div class="star-rating">★★★☆☆</div>
                    <div class="lecture-name">기초영어회화</div>
                    <div class="prof-name">Steven King 교수님</div>
                    <div class="lecture-review">
                        무난함. 근데 한국말 너무 잘하셔서 영어 쓸 기회가 없음.<br>
                        발표 시키는 거 좋아하니까 I형들은 피해라. 조별 과제 있음.
                    </div>
                </div>

            </div>
        </div>
    </div>
    
    <!-- 6. [마이페이지] (업그레이드 버전) -->
    <div id="screen-mypage" class="screen" style="background:#f2f2f2;">
        
        <!-- 1. 프로필 영역 -->
        <div class="card" style="display:flex; align-items:center; padding:25px 20px; margin-bottom:10px; border-bottom:1px solid #e3e3e3;">
            <div style="position:relative; margin-right:20px;">
                <div style="width:64px; height:64px; background:#fff; border-radius:20px; display:flex; align-items:center; justify-content:center; border:1px solid #eee;">
                    <i class="fas fa-user-graduate" style="font-size:32px; color:#ddd;"></i>
                </div>
                <div style="position:absolute; bottom:-5px; right:-5px; background:#fff; border-radius:50%; width:24px; height:24px; display:flex; align-items:center; justify-content:center; border:1px solid #eee; box-shadow:0 2px 5px rgba(0,0,0,0.1); cursor:pointer;">
                    <i class="fas fa-camera" style="font-size:10px; color:#777;"></i>
                </div>
            </div>
            <div style="flex:1;">
                <div style="display:flex; align-items:center; margin-bottom:6px;">
                    <h3 style="font-size:18px; font-weight:bold; margin-right:8px; color:#292929;">익명</h3>
                    <span style="font-size:10px; color:#fff; background:#c62917; padding:3px 6px; border-radius:4px; font-weight:bold;">본인인증</span>
                </div>
                <p style="font-size:13px; color:#888; margin-bottom:4px;">크랙 대학교</p>
                <div style="display:flex; gap:10px;">
                    <span style="font-size:12px; color:#aaa; border:1px solid #eee; padding:2px 8px; border-radius:12px; background:#f9f9f9; cursor:pointer;">닉네임 설정</span>
                    <span style="font-size:12px; color:#aaa; border:1px solid #eee; padding:2px 8px; border-radius:12px; background:#f9f9f9; cursor:pointer;">프로필 사진 변경</span>
                </div>
            </div>
        </div>

        <!-- 2. 커뮤니티 활동 -->
        <div style="padding:0 20px; margin-bottom:8px; color:#888; font-size:12px; font-weight:bold;">커뮤니티</div>
        <div class="card" style="padding:0; margin-bottom:20px;">
            <ul style="padding:0;">
                <li onclick="loadBoard('my', 'category')" style="padding:16px 20px; border-bottom:1px solid #f9f9f9; display:flex; justify-content:space-between; align-items:center; cursor:pointer;">
                    <div><i class="fas fa-pencil-alt" style="width:24px; color:#c62917;"></i> 내가 쓴 글</div>
                    <i class="fas fa-chevron-right" style="color:#ddd; font-size:12px;"></i>
                </li>
                <li onclick="alert('댓글 모아보기 (준비 중)')" style="padding:16px 20px; border-bottom:1px solid #f9f9f9; display:flex; justify-content:space-between; align-items:center; cursor:pointer;">
                    <div><i class="far fa-comment-dots" style="width:24px; color:#0ca5af;"></i> 댓글 단 글</div>
                    <i class="fas fa-chevron-right" style="color:#ddd; font-size:12px;"></i>
                </li>
                <li onclick="alert('스크랩 기능 (준비 중)')" style="padding:16px 20px; display:flex; justify-content:space-between; align-items:center; cursor:pointer;">
                    <div><i class="fas fa-star" style="width:24px; color:#ffc107;"></i> 스크랩</div>
                    <i class="fas fa-chevron-right" style="color:#ddd; font-size:12px;"></i>
                </li>
            </ul>
        </div>

        <!-- 3. 계정 설정 -->
        <div style="padding:0 20px; margin-bottom:8px; color:#888; font-size:12px; font-weight:bold;">계정</div>
        <div class="card" style="padding:0; margin-bottom:20px;">
            <ul style="padding:0;">
                <li style="padding:16px 20px; border-bottom:1px solid #f9f9f9; display:flex; justify-content:space-between; align-items:center;">
                    <div><i class="fas fa-university" style="width:24px; color:#555;"></i> 학교 인증</div>
                    <span style="font-size:12px; color:#888; font-weight:bold;">재학 인증 완료</span>
                </li>
                <li style="padding:16px 20px; border-bottom:1px solid #f9f9f9; display:flex; justify-content:space-between; align-items:center; cursor:pointer;">
                    <div><i class="fas fa-lock" style="width:24px; color:#555;"></i> 비밀번호 변경</div>
                    <i class="fas fa-chevron-right" style="color:#ddd; font-size:12px;"></i>
                </li>
                <li style="padding:16px 20px; display:flex; justify-content:space-between; align-items:center; cursor:pointer;">
                    <div><i class="fas fa-envelope" style="width:24px; color:#555;"></i> 이메일 설정</div>
                    <span style="font-size:12px; color:#aaa;">student@crack.univ.ac.kr</span>
                </li>
            </ul>
        </div>
        
        <!-- 4. 앱 설정 -->
        <div class="card" style="padding:0; margin-bottom:30px;">
            <ul style="padding:0;">
                <!-- 다크 모드 -->
                <li onclick="toggleDarkMode()" style="padding:16px 20px; border-bottom:1px solid #f9f9f9; display:flex; justify-content:space-between; align-items:center; cursor:pointer;">
                    <div><i class="fas fa-moon" style="width:24px; color:#555;"></i> 다크 모드</div>
                    <div id="dm-toggle" class="toggle-switch" style="width:40px; height:20px; background:#ddd; border-radius:10px; position:relative;">
                        <div id="dm-circle" class="toggle-circle" style="width:16px; height:16px; background:white; border-radius:50%; position:absolute; top:2px; left:2px; box-shadow:0 1px 2px rgba(0,0,0,0.2);"></div>
                    </div>
                </li>
                <!-- 로그아웃 -->
                <li onclick="if(confirm('정말 로그아웃 하시겠습니까?')) { alert('로그아웃 되었습니다.'); goHome(); }" style="padding:16px 20px; display:flex; justify-content:space-between; align-items:center; cursor:pointer; color:#c62917;">
                    <div><i class="fas fa-sign-out-alt" style="width:24px;"></i> 로그아웃</div>
                </li>
            </ul>
        </div>

        <div style="text-align:center; color:#aaa; font-size:11px; margin-bottom:20px;">
            에브리타임 이용약관 | 개인정보처리방침<br>
            © Crack University Community
        </div>
    </div>

    <!-- 7. [쪽지함] (팝업 기능 적용됨) -->
    <div id="screen-message" class="screen">
        <div class="card" style="min-height:100vh;">
            <div class="section-title" style="margin-bottom:15px;">쪽지함</div>
            
            <!-- 1. 사이비 -->
            <div class="msg-item" onclick="openMsgPopup('익명', '방금', '안녕하세요 학우님!\n지나가다 인상이 너무 선하고 좋으셔서 연락드려요.\n혹시 조상님 중에 공덕을 많이 쌓으신 분이 계신가요?\n\n심리학과 과제로 설문조사 중인데 잠시 시간 내주시면 맛있는 거 사드릴게요! (절대 이상한 사람 아님)')">
                <div class="msg-icon" style="background:#a6c0fe;"><i class="fas fa-smile"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender">익명</span><span class="msg-time">방금</span></div>
                    <div class="msg-preview">혹시 인상이 좋다는 말 자주 안 들으세요? 심리학과 과제로 설문조사 중인데..</div>
                </div>
            </div>

            <!-- 2. 네고충 -->
            <div class="msg-item" onclick="openMsgPopup('익명', '10분 전', '[장터 게시판 보고 연락드려요]\n\n전공책 2만원에 올리셨던데 쿨거 5천원 가능?\n솔직히 헌책인데 그 가격은 좀 에바인 듯.\n님도 같은 학생끼리 좀 깎아주셈. 제가 지금 갈 테니까 택포 5천원에 쿨거 합시다.\n\n계좌 주셈.')">
                <div class="msg-icon" style="background:#ddd;"><i class="fas fa-book"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender">익명</span><span class="msg-time">10분 전</span></div>
                    <div class="msg-preview">[장터 게시판] 전공책 쿨거 5천원 가능? 님도 같은 학생끼리 좀 깎아주셈 택포로</div>
                </div>
            </div>

            <!-- 3. 설레발 (반전) -->
            <div class="msg-item" onclick="openMsgPopup('익명', '30분 전', '저기요.. 도서관 3열 파란 후드티 분 맞으시죠?\n계속 지켜봤는데 관심 있어서 쪽지 드려요...\n\n다리 좀 그만 떠세요 책상 울려서 집중 안 돼요 ㅡㅡ\n한 번만 더 떨면 사서한테 신고합니다.')">
                <div class="msg-icon" style="background:#ffd1d1;"><i class="fas fa-heart"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender">익명</span><span class="msg-time">30분 전</span></div>
                    <div class="msg-preview">저기요.. 도서관 3열 파란 후드티 분 맞으시죠? 관심 있어서 쪽지 드려요...</div>
                </div>
            </div>

            <!-- 4. 조별과제 -->
            <div class="msg-item" onclick="openMsgPopup('익명 (교양 팀플)', '1시간 전', '저 진짜 죄송한데.. 갑자기 할머니 제사가 잡혀서 오늘 PPT 못 만들 것 같아요 ㅠㅠ\n저희 집이 종갓집이라 제가 안 가면 큰일 나거든요..\n\n자료조사는 대충 해서 보냈으니까 PPT는 님이 좀 예쁘게 다듬어서 해주시면 안 될까요?\n발표도 제가 목이 안 좋아서 님이 하시는 게 좋을 것 같아요 ㅎㅎ 믿습니다 팀장님!')">
                <div class="msg-icon" style="background:#555;"><i class="fas fa-user-injured"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender">익명 (교양 팀플)</span><span class="msg-time">1시간 전</span></div>
                    <div class="msg-preview">저 진짜 죄송한데.. 할머니 제사라 오늘 PPT 못 만들 것 같아요ㅠ ppt 님이 해주시면 안 될까요?</div>
                </div>
            </div>

            <!-- 5. 강단우 떡밥 -->
            <div class="msg-item" onclick="openMsgPopup('익명', '2시간 전', '야 너 혹시 지금 만나는 사람 있지?\n내가 웬만하면 말 안 하려고 했는데 강단우 관련해서 할 말 있는데.\n\n강단우 지금 소문 안 좋은 거 알지? 너랑 헤어진 이유 그거 사실 다른 여자 때문이라는 소문 돌더라.\n궁금하면 답장 줘. 아는 대로 말해줌.')">
                <div class="msg-icon" style="background:#ddd;"><i class="fas fa-user"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender">익명</span><span class="msg-time">2시간 전</span></div>
                    <div class="msg-preview">너 혹시 지금 만나는 사람 있지? 강단우 관련해서 할 말 있는데</div>
                </div>
            </div>

            <!-- 6. 구질구질 -->
            <div class="msg-item" onclick="openMsgPopup('익명', '어제', '자니..?\n아 미안 잘못 보냄 신경 쓰지 마\n\n(5분 뒤)\n근데 안 자면 술 한잔 ㄱ?\n나 지금 후문인데 잠깐 얼굴이나 볼까 해서.. 부담 갖지는 말고..')">
                <div class="msg-icon" style="background:#ddd;"><i class="fas fa-beer"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender">익명</span><span class="msg-time">어제</span></div>
                    <div class="msg-preview">자니..? 아 미안 잘못 보냄 (근데 안 자면 술 한잔 ㄱ?)</div>
                </div>
            </div>

            <!-- 7. 분실물 -->
            <div class="msg-item" onclick="openMsgPopup('익명', '어제', '저기요.. 동아리방에 검은색 우산 두고 가신 거 같아서요.\n이름표에 [유저] 적혀 있길래 학생회 명부 보고 연락드려요.\n\n제가 챙겨놨으니까 시간 되실 때 동방 오셔서 찾아가세요.\n비싼 우산 같던데 잃어버리면 속상하시잖아요 ^^')">
                <div class="msg-icon" style="background:#ffb142;"><i class="fas fa-umbrella"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender">익명</span><span class="msg-time">어제</span></div>
                    <div class="msg-preview">저기요.. 동아리방에 우산 두고 가신 거 같아서요 챙겨놨으니까 찾아가세요</div>
                </div>
            </div>

            <!-- 8. 스팸 알바 -->
            <div class="msg-item" style="background-color:#fff5f5;" onclick="openMsgPopup('김실장', '어제', '[Web발신]\n(광고) 크랙대 학우님 대상 꿀알바 모집\n\n- 일당: 50만원 (당일 지급)\n- 업무: 단순 서류 전달 및 수거 (남녀무관/초보가능)\n- 위치: 학교 인근 사무실\n\n*통장 대여 아닙니다. 안전한 업무입니다.\n선착순 마감이니 카톡 ID: scam123 으로 연락 주세요.')">
                <div class="msg-icon" style="background:#c62917;"><i class="fas fa-comment-slash"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender" style="color:#c62917;">김실장</span><span class="msg-time">어제</span></div>
                    <div class="msg-preview">[국외발신] 크랙대 학우님 대상 꿀알바 모집 (일당 50만원/성별무관/단순업무)</div>
                </div>
            </div>
            
             <!-- 9. 롤 듀오 -->
             <div class="msg-item" onclick="openMsgPopup('익명', '2일 전', '자게에 롤 듀오 구한다고 글 쓰셔서 연락드려요.\n티어 어디세요?\n\n저 브론즈인데 피지컬은 골드급이거든요? 팀운이 안 좋아서 못 올라가고 있는데 님이 캐리 좀 해주시면 안 됨?\n보이스 가능하고 야스오 장인입니다. 듀오 ㄱㄱ?')">
                <div class="msg-icon" style="background:#ddd;"><i class="fas fa-gamepad"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender">익명</span><span class="msg-time">2일 전</span></div>
                    <div class="msg-preview">롤 듀오 구한다고 글 쓰셔서 연락드려요 티어 어디세요? 저 브론즈인데 ㄱㅊ?</div>
                </div>
            </div>

            <!-- 10. 총학 -->
            <div class="msg-item" onclick="openMsgPopup('총학생회', '3일 전', '[제 32대 총학생회 공지]\n\n2026 봄 대동제 [CRACK:ING] 가수 라인업 1차 공개!\n\nDAY 1: 에스파 (aespa), 데이식스 (DAY6)\nDAY 2: 박재범 (Jay Park), 10CM\nDAY 3: (시크릿 게스트 - 추후 공개)\n\n*재학생 존 입장을 위해 학생증을 필히 지참해주시기 바랍니다.')">
                <div class="msg-icon" style="background:#c62917;"><i class="fas fa-bullhorn"></i></div>
                <div class="msg-content">
                    <div class="msg-top"><span class="msg-sender" style="color:#c62917;">총학생회</span><span class="msg-time">3일 전</span></div>
                    <div class="msg-preview">[공지] 대동제 가수 라인업 1차 공개 (클릭해서 확인)</div>
                </div>
            </div>

        </div>
    </div>

<!-- [글쓰기 플로팅 버튼] -->
    <div class="fab-write" onclick="toggleModal()"><i class="fas fa-pencil-alt"></i></div>

    <!-- 1. [글쓰기 모달창] (style="display: none;" 필수!) -->
    <div id="write-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <span>글 쓰기 (자유게시판)</span>
                <i class="fas fa-times" onclick="toggleModal()" style="cursor:pointer;"></i>
            </div>
            <div class="modal-body">
                <input id="input-title" type="text" placeholder="제목" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:5px; margin-bottom:10px;">
                <textarea id="input-content" placeholder="내용을 입력하세요." style="width:100%; height:100%; padding:10px; border:1px solid #ddd; border-radius:5px; resize:none;"></textarea>
            </div>
            <div class="modal-footer">
                <button onclick="submitPost()" style="color:#c62917; font-weight:bold; background:none; border:none; font-size:14px; cursor:pointer;">완료</button>
            </div>
        </div>
    </div>

    <!-- 2. [쪽지 상세 팝업창] (style="display: none;" 필수!) -->
    <div id="msg-detail-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="height:auto; max-height:70vh;">
            <div class="modal-header">
                <span id="popup-sender">보낸 사람</span>
                <i class="fas fa-times" onclick="closeMsgPopup()" style="cursor:pointer;"></i>
            </div>
            <div class="modal-body">
                <div id="popup-time" style="font-size:12px; color:#aaa; margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:10px;">시간</div>
                <div id="popup-text" style="font-size:14px; line-height:1.6; color:#333; white-space: pre-wrap;">내용</div>
            </div>
            <div class="modal-footer" style="display:flex; gap:10px; justify-content:flex-end;">
                <button onclick="closeMsgPopup()" style="background:#eee; color:#555; border:none; padding:8px 15px; border-radius:5px; cursor:pointer;">닫기</button>
                <button onclick="alert('답장 기능은 준비 중입니다.');" style="background:#c62917; color:white; border:none; padding:8px 15px; border-radius:5px; cursor:pointer; font-weight:bold;">답장</button>
            </div>
        </div>
    </div>

    <!-- 하단 탭바 -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="goHome()"><i class="fas fa-home"></i><span>홈</span></div>
        <div class="nav-item" onclick="switchScreen('board-category')"><i class="fas fa-list"></i><span>게시판</span></div>
        <div class="nav-item" onclick="switchScreen('message')"><i class="far fa-comment-alt"></i><span>쪽지함</span></div>
        <div class="nav-item" onclick="switchScreen('mypage')"><i class="far fa-user"></i><span>내 정보</span></div>
    </nav>

    <script>
       // --- 데이터베이스 ---
        const DB = {
            posts: {}, // 객체로 변경 (ID로 바로 찾기 위해)
            boards: { 'free':[], 'secret':[], 'adult':[], 'graduate':[], 'freshman':[], 'my':[] }
        };

        // ★ 수정된 함수: 게시판 분류와 '내가 쓴 글' 분류를 동시에 처리합니다.
       // ★ 수정된 함수: 방금 쓴 글은 맨 위로(unshift), 기존 글은 순서대로(push)
        function createPost(id, title, content, board, likes, comments, isMe = false, isHot = false) {
            // 1. 게시글 데이터 저장
            DB.posts[id] = { title, content, board, likes, comments, isMe, isHot };
            
            // 2. 게시판 키 찾기
            let boardKey = '';
            if (board === '자유게시판') boardKey = 'free';
            else if (board === '비밀게시판') boardKey = 'secret';
            else if (board === '성인게시판') boardKey = 'adult';
            else if (board === '졸업생게시판') boardKey = 'graduate';
            else if (board === '새내기게시판') boardKey = 'freshman';
            
            // 3. 목록에 추가하는 로직 (여기가 중요!)
            // ID가 'user_post_'로 시작하면(방금 내가 쓴 글) -> 맨 앞에 추가 (unshift)
            // 그 외(미리 적어둔 코드) -> 뒤에 순서대로 추가 (push)
            const isNewUserPost = id.toString().startsWith('user_post_');

            if (boardKey && DB.boards[boardKey]) {
                if (isNewUserPost) {
                    DB.boards[boardKey].unshift(id); // 맨 앞에 추가
                } else {
                    DB.boards[boardKey].push(id);    // 뒤에 추가
                }
            }

            // 4. '내가 쓴 글' 목록에도 똑같이 적용
            if (isMe) {
                if (isNewUserPost) {
                    DB.boards['my'].unshift(id); // 맨 앞에 추가
                } else {
                    DB.boards['my'].push(id);    // 뒤에 추가
                }
            }
        }

        // 1. [실시간 핫게]
        createPost('scandal', "[실시간] 와 미친 예대 입구 서재이 봤냐? 분위기 ㅈ되네;;", 
            "아니 나 교양 끝나고 나오는데 문 앞에서 담배 피우고 있길래 화보 찍는 줄 알았음.\n\n자연스럽게 그 사람 가방 뺏어서 자기가 멤. 그 귀차니즘 만렙 서재이가 짐을 들어준다고? 이게 말이 됨?\n거기다 깍지 끼고 머리 정리해주는데 꿀 떨어짐.\n\n근데 그 상대가... 소프트웨어학과 강단우 여친 아님? 상황 설명 좀;", 
            "자유게시판", 412, [
                { nick: "익명1", text: "피지컬 ㅆㅂ... 쌀 것 같다 저 얼굴로 내 가방 셔틀 해주면 바로 지렸다" },
                { nick: "익명2", text: "서재이 관상이 대물상임. 밤에도 잘할 듯" },
                { nick: "익명3", text: "저거 강단우 여친 아님? 환승 이별 개꿀잼ㅋㅋㅋ" },
                { nick: "익명4", text: "강단우 인성 개차반이라 먹버 당한 거임 ㅋㅋㅋ 꼴좋다 ㅂㅅ" },
                { nick: "익명", text: "익4야 니가 뭘 안다고 지껄여? 신고하기 전에 닥쳐라. 나 같은 과 동기인데 걔 생각보다 괜찮은 애야.", isMe: true },
                { nick: "익명6", text: "야 근데 서재이 눈빛 봐라.. 저게 어떻게 친구 보는 눈이냐 잡아먹고 싶어서 안달 났는데?" },
                { nick: "익명", text: "강단우 그런 애 아니라고 미친놈들아... 사정 있어서 그런 거라고. 억까하지 마.", isMe: true },
                { nick: "익명9", text: "🔥 야 비상비상!!! 언덕 밑에서 강단우 올라온다!! 표정 살인마임 ㄷㄷㄷ", isHot: true },
                { nick: "익명10", text: "팝콘 챙겨라 ㅋㅋㅋㅋ 4자 대면 드가자~" }
            ], false, true); // isMe: false
            

        // 2. [내가 쓴 글 모음] (이제 게시판 이름이 달라도 '내가 쓴 글'에 다 뜹니다)
                 createPost('my_1', "소웨과 강단우 인성 논란 반박한다 (니들이 걔를 알아?)", "사람들이 자꾸 강단우 욕하는데 같은 과 동기로서 팀플 해본 입장에서 말하자면 걔 절대 그런 애 아님.\n팀플 할 때도 자기가 자료조사 다 해오고 책임감 강해.\n술 먹고 좀 시끄러운 건 맞는데 피해 준 적은 없잖아. 억까 좀 그만해라.", "자유게시판", 42, [
            {nick:"익명1", text:"인정. 나도 걔랑 팀플 해봤는데 무임승차는 절대 안 함."},
            {nick:"익명", text:"진짜 겪어보면 진국인 애라고... 답답하네.", isMe:true}
        ], true);

        createPost('my_2', "헤어졌는데 왜 자꾸 생각나냐...", "헤어졌는데 걔 자취방 비밀번호를 못 누르겠어...\n지금 만나는 사람 있는데도 문득문득 생각남 미치겠음.", "비밀게시판", 0, [], true);
        
        createPost('my_3', "솔직히 그 사람이 화낼 만했지, 내가 쓰레기지", "내가 먼저 잘못한 건데 다들 그 사람만 욕하네...\n그가 화내는 건 당연한 거야. 나 진짜 나쁜 년이다.", "자유게시판", 2, [{nick:"익명1", text:"무슨 일인데?"}], true);
        
        createPost('my_4', "지금 남친이랑 있어도 전남친 생각나는 내가 싫다", "지금 사람은 이렇게 잘해주는데...\n왜 자꾸 그 새끼가 생각나지? 술 마시고 전화할 뻔했다 진짜.", "비밀게시판", 15, [{nick:"익명1", text:"정리해라."}], true);

        // 3. [자유게시판 글들] (ID 순서 정리완료 + 고양이 추가)
        createPost('free_1', "아 시발 전필 교수 개새끼가 과제 또 냄", "중간고사 끝난 지 얼마나 됐다고 레포트 10장... 이 교수 거르셈.", "자유게시판", 55, [{nick:"익명1", text:"김교수? ㅋㅋㅋ"}, {nick:"익명2", text:"휴학 마렵다"}]);
        
        createPost('free_2', "중도에서 발정 난 커플 새끼들아 모텔을 가", "책상 밑에서 손 잡고 허벅지 만지고 지랄 났네.", "자유게시판", 32, [{nick:"익명1", text:"ㅇㅈ 도서관이 모텔이냐"}]);
        
        createPost('free_3', "간호대 윤지헌 교수님 마주쳤는데 실시간으로 수염 자라는 기분임", 
            "와 냄새가 걍... 안 씻은 땀 냄새 수준이 아님. 100년 묵은 농축된 수컷의 향기임.\n엘리베이터 같이 탔는데 맡자마자 내 몸에 남성 호르몬 수치 급상승해서 정수리 빠지는 줄 알았다.\n진짜 걸어 다니는 테스토스테론 폭탄 그 자체네;; 기가 빨리는 게 아니라 기에 눌려서 압사당할 뻔.", 
            "자유게시판", 156, [
                {nick:"익명1", text:"ㄹㅇ 여름에 교수님 근처 가면 모기들도 냄새 맡고 기절해서 떨어짐"}, 
                {nick:"익명2", text:"상남자 특) 페로몬으로 기선 제압함"}, 
                {nick:"익명3", text:"근데 피지컬 보면 반박 불가임.. 냄새난다고 했다간 접어버릴 것 같음"},
                {nick:"익명4", text:"강의실 들어오시면 공기 질감이 달라짐 ㅋㅋㅋ 묵직해짐"}
            ]);

        createPost('free_4', "흡연 구역 침 좀 그만 뱉어라", "바닥이 침으로 한강이다 더러워 죽겠네.", "자유게시판", 78, []);
        
        createPost('free_5', "강단우 오늘 밴드부 공연 하냐? 시끄럽네", "학생회관 지나가는데 베이스 소리 둥둥 울려서 머리 아픔.", "자유게시판", 14, [{nick:"익명1", text:"키보드 강단우 아님? 실력은 인정이지"}]);
        
        createPost('free_6', "오늘 학식 돈가스 거르셈", "튀김옷만 두꺼움.", "자유게시판", 4, []);
        
        createPost('free_7', "버스 막차 몇 시야?", "도서관에서 밤샘하고 집 가려는데.", "자유게시판", 1, [{nick:"익명1", text:"11시 30분이 막차임."}]);
        
        createPost('free_8', "이번 축제 라인업 찌라시 떴냐?", "누구 온다는데? 아이돌 옴?", "자유게시판", 25, [{nick:"익명1", text:"에스파 온다는 소문 있던데"}]);
        
        createPost('free_9', "자취방 벌레 나왔는데 잡아줄 사람(사례함)", "바퀴벌레임 ㅠㅠㅠㅠ", "자유게시판", 5, []);
        
        createPost('free_10', "복학하니까 아는 사람 1도 없다", "화석 취급 당할까 봐 과방도 못 들어가겠음.", "자유게시판", 8, []);
        
        createPost('free_11', "시험 기간 중도 자리 맡기 빡세네 씨..", "아침 8시에 왔는데 자리 없는 게 말이 되냐?", "자유게시판", 12, []);
        
        createPost('free_12', "배고파 뒤지겠다 점메추(점심메뉴추천) 좀", "결정장애 와서 30분째 고민 중이다. 마라탕 vs 제육볶음 추천 좀.", "자유게시판", 5, [
            {nick:"익명1", text:"닥 마라탕이지 고민할 게 있냐"}, 
            {nick:"익명2", text:"남자는 제육이다"}, 
            {nick:"익명3", text:"학식이나 처먹어 돈 아껴야지"}]);

        createPost('free_13', "아 1교시 자체휴강 마렵다", "침대 밖은 너무 위험해... 교수님이 출석 부를까? 저번 주엔 안 불렀는데.", "자유게시판", 23, [
            {nick:"익명1", text:"응 F"}, 
            {nick:"익명2", text:"오늘 부른다고 공지함 ㅋㅋ 수고링"}, 
            {nick:"익명3", text:"난 이미 째고 피방임"}
        ]);

        createPost('free_14', "에어팟 콩나물 한쪽 잃어버림 하...", "오른쪽 유닛 본 사람 있냐? 내 인생 레전드네 진짜 자살각이다.", "자유게시판", 8, [
            {nick:"익명1", text:"나 왼쪽 잃어버렸는데 우리 합칠래?"}, 
            {nick:"익명2", text:"새로 사라는 신의 계시다 질러라"}, 
            {nick:"익명3", text:"당근마켓 ㄱㄱ"}
        ]);

        createPost('free_15', "CC 새끼들 손 잡고 길막 하지 마라 좀", "안 그래도 언덕 올라가느라 힘든데 앞에서 느릿느릿 걷는 거 뒤에서 로우킥 까고 싶네.", "자유게시판", 45, [
            {nick:"익명1", text:"부러우면 부럽다고 해 ㅋ"}, 
            {nick:"익명2", text:"솔로천국 커플지옥 반박 불가"}, 
            {nick:"익명3", text:"지나가겠습니다~ 하고 어깨빵 치고 가셈"}
        ]);

        createPost('free_16', "학교 오자마자 집 가고 싶다", "등교 버스 내리자마자 하교 마려움. 이거 정상임?", "자유게시판", 102, [
            {nick:"익명1", text:"사이언스임. 나도 그럼."}, 
            {nick:"익명2", text:"집 -> 학교 -> 집 가고 싶다 (무한반복)"}, 
            {nick:"익명3", text:"그냥 자퇴해"}
        ]);

        createPost('free_17', "아아아아아아아아아악", "과제 하기 싫어어어어어 시바아아아알 종강 언제 하냐아아아아", "자유게시판", 15, [
            {nick:"익명1", text:"ㅁㅊㄴ"}, 
            {nick:"익명2", text:"도서관에서 폰 그만 만지고 공부나 해라"}, 
            {nick:"익명3", text:"나도 소리 지르고 싶다"}
        ]);

        createPost('free_18', "오늘 반팔 입으면 얼어 죽냐?", "날씨 감이 안 잡힘. 겉옷 챙겨야 됨? 패딩은 오바지?", "자유게시판", 6, [
            {nick:"익명1", text:"지금 반팔인데 닭살 돋음 후리스 챙겨라"}, 
            {nick:"익명2", text:"낮엔 덥고 밤엔 춥다 일교차 ㅈ됨"}, 
            {nick:"익명3", text:"상남자 특) 한겨울에도 반팔 입음"}
        ]);

        createPost('free_19', "프린트 가능한 곳 어디임?", "중도 1층 복사실 문 닫았냐? 급한데 ㅠㅠ", "자유게시판", 2, [
            {nick:"익명1", text:"공대 2호관 1층에 있음"}, 
            {nick:"익명2", text:"편의점 가서 해달라 해"}, 
            {nick:"익명3", text:"미리미리 좀 뽑아라 꼭 닥쳐서 하더라"}
        ]);

        createPost('free_20', "이 학교 언덕 실화냐?", "수업 들으러 가는데 등산하는 기분임. 종아리에 알 배겼다.", "자유게시판", 33, [
            {nick:"익명1", text:"등록금 내고 허벅지 운동 개꿀이자너~"}, 
            {nick:"익명2", text:"여름에 땀 줄줄 흐르면 진짜 자퇴 마려움"}, 
            {nick:"익명3", text:"셔틀버스 타라 흑우야"}
        ]);

        createPost('free_21', "님들 지금 일어나는 거 정상?", "오후 3시인데 이제 눈 뜸. 인생 망한 듯 ㅎ", "자유게시판", 19, [
            {nick:"익명1", text:"엠생 ㅎㅇ 나도 방금 일어남"}, 
            {nick:"익명2", text:"아침형 인간이네 난 4시에 일어남"}, 
            {nick:"익명3", text:"다시 자라 그게 답이다"}
        ]);

        // [사진 포함 게시글 추가]
        createPost('free_22', "공학관 앞 치즈냥이 미쳤다 ㅠㅠ (사진)", 
            "벤치에서 자고 있는데 발바닥 핑크 젤리 실화냐...\n납치해서 키우고 싶다 하...\n\n<img src='https://i.ifh.cc/Dk3vow.jpg' style='width:100%; border-radius:10px; margin-top:10px;'>", 
            "자유게시판", 241, [
                {nick:"익명1", text:"와 미친 개귀엽네 심장 아파"}, 
                {nick:"익명2", text:"쟤 사람 안 피하더라 개냥이임"}, 
                {nick:"익명3", text:"츄르 바치러 간다 위치 어디냐"}
            ]);
        // 4. [비밀게시판 글들]
        createPost('secret_1', "오늘따라 외롭다 술 마실 사람", "그냥 아무 말 없이 같이 술 마셔줄 사람 구함.", "비밀게시판", 3, []);
        createPost('secret_2', "FWB 구할 거면 틴더가 낫냐 여기가 낫냐?", "외로운데 연애는 귀찮고.", "비밀게시판", 5, []);
        createPost('secret_3', "전남친이랑 헤어지고 잤는데 현타 온다", "홧김에 잤는데 공허함만 더 커짐... 눈물 나네.", "비밀게시판", 24, [{nick:"익명1", text:"힘내라..."}]);
        createPost('secret_4', "우리 과 여신 윤세아 솔직히 스폰 아님?", "아니 걔 알바도 안 한다며 명품 두르고 다니는 거 수상하지 않냐?", "비밀게시판", 89, [{nick:"익명1", text:"열등감 쩌네 윤세아 금수저임"}]);
        createPost('secret_5', "오늘 축제 화장실에서 떡치는 거 봄", "예대 3층 남자 화장실 ㅋㅋㅋ 신음 소리 다 들림.", "비밀게시판", 201, [{nick:"익명1", text:"누구냐?"}]);
        createPost('secret_6', "짝남이 내 친구 좋아하는 거 같음", "셋이 술 마시는데 계속 내 친구만 챙겨주네.", "비밀게시판", 7, []);
        createPost('secret_7', "자살하고 싶다 진짜", "학점도 망하고 인간관계도 꼬이고...", "비밀게시판", 45, []);
        createPost('secret_8', "우울증 약 먹는데 술 마셔도 됨?", "오늘 너무 힘들어서 술 땡기는데.", "비밀게시판", 2, []);
        createPost('secret_9', "짝사랑 포기하는 법 좀", "계속 생각나서 미치겠어.", "비밀게시판", 11, []);
        createPost('secret_10', "학교 앞 모텔 대실 시간 긴 곳 추천", "3시간 너무 짧아.", "비밀게시판", 0, []);

       // 5. [성인게시판] (19금 리얼 버전)
        createPost('adult_swap', "CC끼리 스와핑 해본 사람 있냐? 후기 좀", 
            "여친이랑 나랑 둘 다 성욕 많고 좀 개방적인 편임.\n술자리에서 친한 커플이랑 농담 따먹기 하다가 분위기가 그쪽으로 흘러갔는데...\n\n진짜로 해본 사람 있음?\n하고 나서 어색해지냐 아니면 더 끈끈해지냐?\n\n내 판타지긴 한데 막상 하려니까 후폭풍 걱정되네.\n경험자 형님들 조언 부탁한다. 욕은 사절.", 
            "성인게시판", 218, [
                {nick:"익명1", text:"와.. 우리 학교 수준 실화냐? 동물의 왕국이네 ㅋㅋㅋ"},
                {nick:"익명2", text:"하지 마라. 인간의 질투심을 무시하지 마. 쿨한 척하다가 칼부림 난다."},
                {nick:"익명3", text:"내 아는 형네 커플이 했는데, 결국 파트너 체인지 돼서 새롭게 사귐 ㅋㅋ"},
                {nick:"익명4", text:"상대 커플 수질이 중요함. 니 여친보다 상대가 예쁘면 넌 개이득인데, 니 여친은 현타 옴."},
                {nick:"글쓴이", text:"상대방 남자애가 나보다 피지컬 좋아서 그게 좀 걱정이긴 해.. 여친 뺏길까 봐."},
                {nick:"익명6", text:"ㄴ ㅋㅋㅋㅋ 뺏기면 뺏기는 거지 뭐. 쫄리면 하지 마"},
                {nick:"익명7", text:"쓰리썸까진 해봤는데 스와핑은 멘탈 털릴 듯. 남이 내 거 박는 거 눈앞에서 보는 게 쉽지 않음."},
                {nick:"익명8", text:"후기 꼭 남겨라. 와드 박고 간다."},
                {nick:"익명9", text:"성병 검사지 서로 교환하고 해라. 기본 매너다."},
                {nick:"익명10", text:"부럽다 시발.. 나도 그런 마인드인 여친 만나고 싶다.."},
                {nick:"익명11", text:"야 쪽지 봐라. 진지하게 물어볼 거 있음."}
            ]);
        createPost('adult_1', "오늘 밤 외로운 여학우 구함 (181/76 훈남)", 
            "키 크고 운동해서 몸 좋습니다. 술 강요 안 하고 매너 있게 모십니다.\n서로 끌리면 2차 가고 아니면 깔끔하게 술만 먹고 헤어짐.\n쪽지 주세요. 프로필 인증 가능.", 
            "성인게시판", 8, [
                {nick:"익명1", text:"얼굴 훈남 맞음? 저번에도 훈남이라 해서 나갔더니 오징어 나와서 튐"},
                {nick:"익명2", text:"쪽지 확인해"}
            ]);

        createPost('adult_2', "남친이 콘돔 안 끼려고 하는데 헤어질까?", 
            "자꾸 느낌 안 난다고 노콘으로 하자고 조르는데 진짜 정떨어짐.\n질외사정 하면 절대 임신 안 된다고 우기는데 이 새끼 어떻게 해야 됨?\n불안해서 관계할 때 집중도 안 됨.", 
            "성인게시판", 142, [
                {nick:"익명1", text:"무조건 헤어지셈. 임신하면 나 몰라라 할 놈임."},
                {nick:"익명2", text:"성병 걸리고 싶냐? 갖다 버려라"},
                {nick:"익명3", text:"책임감 없는 새끼네 ㅉㅉ"}
            ]);


        createPost('adult_4', "풀발 5cm인데 자살ㄱ?", 
            "어제 여친이랑 첫 관계했는데 넣자마자 표정 굳는 거 봤음.\n아프냐고 물어보니까 아니 아무 느낌 안 난다고 함...\n비뇨기과 가서 수술하면 커지냐? 진지하다.", 
            "성인게시판", 34, [
                {nick:"익명1", text:"길이보단 굵기가 중요하다. 휴지심 들어가냐?"},
                {nick:"익명2", text:"5이면.. 음.. 혀를 잘 써봐라 힘내고"},
                {nick:"익명3", text:"다시 태어나는 게 빠름"}
            ]);

        createPost('adult_6', "CC 하다가 헤어지면 섹파로 지내는 거 가능?", 
            "헤어졌는데 속궁합은 진짜 개잘맞았거든.\n전여친도 아쉬운 눈치인데 그냥 술 한잔하자고 불러서 제안해볼까?\n쓰레기냐 나?", 
            "성인게시판", 45, [
                {nick:"익명1", text:"그러다 임신하면 결혼해야 됨 ㅋㅋ"},
                {nick:"익명2", text:"서로 합의되면 윈윈이지 뭐. 근데 비밀 지켜라 소문나면 매장임"},
                {nick:"익명3", text:"부럽다 시발 나도 전여친이랑 하고 싶다"}
            ]);

        createPost('adult_7', "새벽에 과방이나 동방에서 해본 사람 있음?", 
            "스릴 쩔 것 같은데 걸릴까 봐 무서움.\n문 잠그고 조용히 하면 안 걸리려나? 해본 용자 썰 좀 풀어봐라.", 
            "성인게시판", 67, [
                {nick:"익명1", text:"나 예대 연습실에서 해봄. 피아노 위에서 하면 ㅈ됨"},
                {nick:"익명2", text:"CCTV 조심해라 인생 훅 간다"},
                {nick:"익명3", text:"경비 아저씨 순찰 2시니까 그 전엔 피해"}
            ]);

        createPost('adult_8', "솔직히 여자들 조루 vs 지루 뭐가 더 싫음?", 
            "나 지루끼 있어서 40분 넘게 하는데 여친이 힘들어 죽으려 함.\n오래 하면 좋은 거 아님? 연기하는 건가 싶어서 현타 옴.", 
            "성인게시판", 23, [
                {nick:"익명1", text:"여자 입장에선 지루가 더 빡침. 밑에 다 헐어 아프기만 해."},
                {nick:"익명2", text:"적당히 15분 컷이 최고임. 눈치 챙겨라"},
                {nick:"익명3", text:"3분 카레보단 낫지 배부른 소리 하네"}
            ]);

        createPost('adult_9', "가슴 G컵인 여자가 이상형인데 우리 학교에 있냐?", 
            "얼굴 안 봄. 뚱뚱해도 됨. 그냥 가슴만 크면 됨.\n제발 한 번만 파묻혀서 자보고 싶다.", 
            "성인게시판", 9, [
                {nick:"익명1", text:"쪽지ㄱ"}
            ]);

        createPost('adult_11', "SM 성향(멜돔) 탑 구해요", 
            "맞는 거 좋아하고 통제받는 거 좋아해요.\n변태 아니고 진지하게 취향 맞는 분 찾아요. 오카 파주세요.", 
            "성인게시판", 15, [
                {nick:"익명1", text:"쪽지 보냈어요"},
                {nick:"익명2", text:"여긴 동물의 왕국이네 진짜 ㅋㅋ"}
            ]);

        createPost('adult_12', "자취방 옆집 신음 소리 때문에 미치겠다", 
            "벽이 종잇장인지 매일 밤마다 '오빠 아파 살살' 들림.\n듣다 보면 나도 꼴려서 딸 잡게 됨...\n쪽지로 조용히 좀 해달라고 붙일까?", 
            "성인게시판", 88, [
                {nick:"익명1", text:"녹음해서 에타에 올려라"},
                {nick:"익명2", text:"신음 소리 이쁘냐? 부럽다 야"},
                {nick:"익명3", text:"큰 소리로 '화이팅!!' 외쳐주셈"}
            ]);
        
// 6. [졸업생게시판] (사회인의 희로애락)
        createPost('grad_1', "S전자 최종 합격했다 질문 받는다", 
            "3수 끝에 드디어 붙었다... 진짜 눈물 난다. 후배들아 스펙 궁금한 거 있으면 댓글 달아라. 시간 날 때 답변 해줌. 포기하지 마라.", 
            "졸업생게시판", 215, [
                {nick:"익명1", text:"와 형님 축하드립니다! 학점 몇 점이었어요?"}, 
                {nick:"익명2", text:"직무 어디임? 공대?"}, 
                {nick:"익명3", text:"기 받아갑니다 제발 나도 취뽀 좀"}
            ]);

        createPost('grad_2', "중소기업 초봉 2,800... 이게 나라냐?", 
            "서울에서 월세 60 내고 관리비 내고 교통비, 식비 빼면 남는 게 없다.\n저축은커녕 숨만 쉬고 살아야 됨. 문과생 살려내라...", 
            "졸업생게시판", 89, [
                {nick:"익명1", text:"야 나도 2800 시작해서 지금 3년 차인데 3200임 ㅋㅋ 탈출해라"}, 
                {nick:"익명2", text:"편의점 알바 풀타임 뛰는 게 더 벌 듯"}, 
                {nick:"익명3", text:"누가 문과 가라고 칼 들고 협박함?"}
            ]);

        createPost('grad_3', "입사 6개월 차인데 퇴사 마렵다 (사수 개꼰대)", 
            "일은 하나도 안 가르쳐주면서 '요즘 애들은 끈기가 없다', '라떼는 말이야' 시전함.\n점심시간에도 눈치 보면서 커피 사러 가야 됨. 정신병 걸릴 거 같다.", 
            "졸업생게시판", 45, [
                {nick:"익명1", text:"1년만 버텨라 퇴직금은 받아야지"}, 
                {nick:"익명2", text:"그냥 나와라 병원비가 더 든다"}, 
                {nick:"익명3", text:"어딜 가나 또라이 질량 보존의 법칙은 존재함"}
            ]);

        createPost('grad_4', "30대 초반인데 결혼 포기했다", 
            "집값은 미쳤고 내 월급은 귀여움.\n여자친구랑 헤어지고 그냥 혼자 고양이 키우면서 살기로 했다.\n부모님한테 죄송하긴 한데 내가 죽겠음.", 
            "졸업생게시판", 120, [
                {nick:"익명1", text:"현명한 선택이다. 나도 비혼주의임."}, 
                {nick:"익명2", text:"서울 자가는 이번 생엔 글렀어"}, 
                {nick:"익명3", text:"코인 대박 아니면 답 없다"}
            ]);

        createPost('grad_5', "개발자 국비지원 지금 들어가면 늦었냐?", 
            "비전공자인데 문과 답 없어서 코딩 배워보려 함.\n지금 IT 시장 얼어붙었다는데 6개월 과정 듣고 취업 가능할까? 현실적인 조언 좀.", 
            "졸업생게시판", 34, [
                {nick:"익명1", text:"지금 전공자도 취업 안 돼서 난리임. 오지 마."}, 
                {nick:"익명2", text:"SI 가서 구를 각오 있으면 해보든가 (야근수당 없음)"}, 
                {nick:"익명3", text:"재능 있으면 뚫는데 아니면 시간 낭비임"}
            ]);

        createPost('grad_6', "후배들아 제발 학교 다닐 때 놀아라", 
            "시험 기간 힘들다고 징징대지 마라. 직장인은 매일매일이 시험 기간이고 방학도 없다.\n도서관에서 썸 타고 술 마시던 시절이 천국이었다 진짜...", 
            "졸업생게시판", 156, [
                {nick:"익명1", text:"ㅇㄱㄹㅇ 출근하기 싫다"}, 
                {nick:"익명2", text:"학생 때가 좋았지... 그땐 몰랐지"}, 
                {nick:"익명3", text:"월요일 오지 마라 제발"}
            ]);

        createPost('grad_7', "강남/역삼 근처 직장인 점심 팟 구함", 
            "맨날 혼자 먹기 지겨워서 크랙대 동문끼리 밥이나 먹자.\nN빵 칼같이 함. 영업 사절. 보험 팔이 사절.", 
            "졸업생게시판", 8, [
                {nick:"익명1", text:"오 나 선릉인데 가깝네 쪽지 줘"}, 
                {nick:"익명2", text:"메뉴 뭐 먹냐"}
            ]);

        createPost('grad_8', "공무원 3년 준비하다가 결국 접었다", 
            "남은 건 빚이랑 뱃살뿐이네. 나이 서른인데 이제 뭐 해먹고 사냐.\n중소 생산직이라도 알아봐야 되나... 인생 망한 거 같음.", 
            "졸업생게시판", 67, [
                {nick:"익명1", text:"고생했다... 일단 알바라도 하면서 리프레시해봐"}, 
                {nick:"익명2", text:"기술 배워라 타일이나 도배 쪽 돈 잘 범"}, 
                {nick:"익명3", text:"아직 30이면 젊다 기운 내라"}
            ]);

        createPost('grad_9', "전문직 형님들 계십니까 (회계사/세무사)", 
            "직장 병행하면서 1차 준비 가능할까요? 회식 빼고 주말 반납하면 비벼볼 만한가요?", 
            "졸업생게시판", 15, [
                {nick:"익명1", text:"전업으로 해도 3년 걸리는데 병행? 절대 불가능"}, 
                {nick:"익명2", text:"회계사 현직인데 퇴사하고 올인해도 될까 말까임"}, 
                {nick:"익명3", text:"일단 토익부터 따고 생각해라"}
            ]);

        createPost('grad_10', "주말에 출근하는 흑우 없제?", 
            "그게 나야~ ^^ 시발 프로젝트 마감 때문에 나왔다.\n회사 불지르고 싶다. 특근비도 안 줌. 노동청 찌를까?", 
            "졸업생게시판", 28, [
                {nick:"익명1", text:"ㅋㅋㅋ 수고링 나도 출근함 동지여"}, 
                {nick:"익명2", text:"IT 업계냐? 힘내라"}, 
                {nick:"익명3", text:"포괄임금제면 답도 없다"}
            ]);

        createPost('grad_11', "동기부여 영상 추천 좀", 
            "번아웃 와서 아무것도 하기 싫다. 침대에 누워서 유튜브 숏츠만 5시간째 보는 중.\n정신 차리게 팩폭 좀 해줘.", 
            "졸업생게시판", 22, [
                {nick:"익명1", text:"통장 잔고를 봐라"}, 
                {nick:"익명2", text:"카드값 나가는 날 며칠 남았냐?"}, 
                {nick:"익명3", text:"운동을 해라 몸을 움직여야 됨"}
            ]);
        
       // 7. [새내기게시판] (귀여운 신입생들의 질문과 흑역사)
        createPost('fresh_1', "선배님들.. 밥약 거절당하면 미움받나요?", 
            "용기 내서 카톡 했는데 '다음에 먹자'고 하셨어요 ㅠㅠ 이거 싫다는 뜻인가요?\n다시 연락하면 눈치 없는 건가요..?", 
            "새내기게시판", 12, [
                {nick:"익명1", text:"아니 그냥 진짜 시간 없어서 그런 걸걸? 다시 해봐"}, 
                {nick:"익명2", text:"보통 '다음에' = '안 먹고 싶다' 아님? ㅋㅋ"}, 
                {nick:"익명3", text:"새내기가 밥 사달라는데 싫어할 선배 없음 걱정 ㄴㄴ"}
            ]);

        createPost('fresh_2', "술 게임 하나도 모르는데 어떡해요?", 
            "오늘 개강총회 가는데 술 게임 못하면 아싸 되나요?\n유튜브로 베스킨라빈스31 보고 가는데 이거 아직도 해요?", 
            "새내기게시판", 25, [
                {nick:"익명1", text:"베라31 ㅋㅋㅋㅋㅋ 언제 적 거냐"}, 
                {nick:"익명2", text:"가서 배우면 됨 못하면 마시면서 배우는 거지 ^^"}, 
                {nick:"익명3", text:"귀엽다 귀여워"}
            ]);

        createPost('fresh_3', "전필 교재 4만원인데 이거 꼭 사야 돼요?", 
            "한 학기만 쓸 건데 너무 비싸요 ㅠㅠ\n선배님들은 어떻게 하셨나요? 제본 떠도 교수님이 모르시나요?", 
            "새내기게시판", 34, [
                {nick:"익명1", text:"첫 수업 들어가보고 사라. ppt로만 하는 분도 계심"}, 
                {nick:"익명2", text:"에타 장터에 중고 많음"}, 
                {nick:"익명3", text:"제본 들고 다니다 걸리면 F 주는 교수도 있다 조심해라"}
            ]);

        createPost('fresh_4', "기숙사 통금 1분 늦으면 진짜 벌점인가요?", 
            "지금 택시 탔는데 12시 1분 도착 예정이에요 ㅠㅠ\n사감 선생님한테 봐달라고 빌면 봐주시나요? 하 진짜 울고 싶다", 
            "새내기게시판", 8, [
                {nick:"익명1", text:"짤없음 벌점 적립 축하한다"}, 
                {nick:"익명2", text:"편의점에서 라면 먹고 첫차 기다려라 그게 맘 편함"}, 
                {nick:"익명3", text:"창문 넘다가 걸린 애 봤음 ㅋㅋ"}
            ]);

        createPost('fresh_5', "입학하자마자 CC하면 안 돼요?", 
            "오티 때 친해진 동기랑 썸 타는 거 같은데..\n선배들이 CC는 절대 하지 말라고 해서요. 진짜 인생 망하나요?", 
            "새내기게시판", 56, [
                {nick:"익명1", text:"하지 말라면 좀 하지 마라"}, 
                {nick:"익명2", text:"헤어지면 둘 중 하나는 휴학해야 됨 (경험담)"}, 
                {nick:"익명3", text:"봄에 사귀고 벚꽃 지면 헤어짐 ㅋㅋ"}
            ]);

        createPost('fresh_6', "어제 선배 옷에 토했는데 자퇴해야 할까요...", 
            "필름 끊겼는데 동기가 말해줬어요...\n심지어 과잠에다가... 세탁비 드리고 사과하면 받아주실까요? 학교 못 가겠어요.", 
            "새내기게시판", 89, [
                {nick:"익명1", text:"와.. 과잠은 세탁도 힘든데"}, 
                {nick:"익명2", text:"누구냐 너 ㅋㅋㅋ 소문 다 났다"}, 
                {nick:"익명3", text:"평생 놀림감 등극 축하한다 흑역사 생성 완료"}
            ]);

        createPost('fresh_7', "대학생은 백팩 메요? 크로스백 메요?", 
            "고딩 티 벗고 싶은데 가방 뭐 사야 될지 모르겠어요.\n전공책 다 들어가나요? 아이패드만 들고 다녀도 됨?", 
            "새내기게시판", 5, [
                {nick:"익명1", text:"멋 부리다 어깨 나간다 백팩이 최고임"}, 
                {nick:"익명2", text:"잔스포츠 국룰"}, 
                {nick:"익명3", text:"전공책 들고 다니지 마 사물함 써"}
            ]);

        createPost('fresh_8', "공학관에서 인문관까지 10분 컷 가능?", 
            "시간표 짜다 보니까 이동 시간이 10분인데..\n뛰어가면 가능하겠죠? 언덕 많이 가파른가요?", 
            "새내기게시판", 11, [
                {nick:"익명1", text:"우사인 볼트도 불가능"}, 
                {nick:"익명2", text:"거길 10분에? ㅋㅋㅋ 땀범벅 돼서 강의실 들어감"}, 
                {nick:"익명3", text:"수강정정 해라 그건 자살 행위다"}
            ]);

        createPost('fresh_9', "과잠 언제 나와요? ㅠㅠ", 
            "입금한 지 2주 지났는데 소식이 없어요..\n벚꽃 피기 전에 입고 싶은데.. 언제쯤 나오나요?", 
            "새내기게시판", 20, [
                {nick:"익명1", text:"원래 더워지면 나옴 ㅋㅋ"}, 
                {nick:"익명2", text:"받으면 일주일 입고 장롱행임"}, 
                {nick:"익명3", text:"과대 잡아먹지 말고 기다려라"}
            ]);

        createPost('fresh_10', "나만 친구 없는 거 같아.. (우울)", 
            "강의실 들어가면 다들끼리 떠드는데 나만 혼자 앉아있음.\n벌써 무리 다 형성된 건가? 나 아싸 확정이야?", 
            "새내기게시판", 42, [
                {nick:"익명1", text:"야 나도 혼자야 점심 같이 먹을래?"}, 
                {nick:"익명2", text:"아직 3월이다 걱정 마라"}, 
                {nick:"익명3", text:"자발적 아싸가 편하다 나중엔 알게 될 거임"}
            ]);
        
        let historyStack = [];

        function switchScreen(screenId) {
            // 1. 하단 탭바 아이콘 색상 변경
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            
            // 홈
            if(screenId === 'home') document.querySelectorAll('.nav-item')[0].classList.add('active');
            // 게시판 (카테고리 목록)
            if(screenId === 'board-category') document.querySelectorAll('.nav-item')[1].classList.add('active');
            // 쪽지함
            if(screenId === 'message') document.querySelectorAll('.nav-item')[2].classList.add('active');
            // 내 정보
            if(screenId === 'mypage') document.querySelectorAll('.nav-item')[3].classList.add('active');

            // 2. 화면 전환 (보여주기/숨기기)
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-' + screenId).classList.add('active');
            
            const mainHeader = document.getElementById('main-header');
            const subHeader = document.getElementById('sub-header');
            const fab = document.querySelector('.fab-write');

            // 3. 헤더 모양 결정 (메인헤더 vs 서브헤더)
            // 홈, 쪽지, 내정보, 게시판카테고리 화면에서는 '메인 헤더'를 보여줌
            if (screenId === 'home' || screenId === 'message' || screenId === 'mypage' || screenId === 'board-category') {
                mainHeader.style.display = 'flex';
                subHeader.style.display = 'none';
                fab.style.display = 'flex'; // 글쓰기 버튼 보임
            } else {
                // 게시판 글 목록, 글 상세 화면에서는 '뒤로가기 헤더'를 보여줌
                mainHeader.style.display = 'none';
                subHeader.style.display = 'flex';
                fab.style.display = 'none'; // 글쓰기 버튼 숨김
            }
            window.scrollTo(0, 0);
        }

        // 홈으로 가기 (초기화)
        function goHome() {
            historyStack = [];
            switchScreen('home');
        }

        // 뒤로가기 버튼 눌렀을 때 로직
        function goBack() {
            if (historyStack.length > 0) {
                const prev = historyStack.pop(); // 어디서 왔는지 기록을 꺼냄
                
                if (prev.type === 'board') {
                    // [상세글] -> [게시판 목록]으로 돌아갈 때
                    loadBoard(prev.val, prev.origin, true); 
                }
                else if (prev.type === 'category') {
                    // [게시판 목록] -> [게시판 카테고리 모음]으로 돌아갈 때
                    switchScreen('board-category');
                }
                else {
                    // 그 외에는 홈으로
                    goHome();
                }
            } else {
                goHome();
            }
        }

        // 게시판 목록 불러오기
        // [게시글 삭제 함수]
        function deletePost(postId, currentBoardType) {
            // 이벤트 전파 방지 (글 클릭으로 인식되지 않게 하기 위함은 HTML onclick에서 처리함)
            if(!confirm('정말로 이 글을 삭제하시겠습니까?')) return;

            // 1. 전체 데이터(DB.posts)에서 삭제
            delete DB.posts[postId];

            // 2. 모든 게시판 배열(DB.boards)에서 해당 ID 제거
            // (자유게시판에도 있고 '내가 쓴 글'에도 있을 수 있으므로 전체를 돕니다)
            Object.keys(DB.boards).forEach(boardName => {
                DB.boards[boardName] = DB.boards[boardName].filter(id => id !== postId);
            });

            alert('삭제되었습니다.');
            
            // 3. 화면 새로고침
            loadBoard(currentBoardType);
        }
      // 게시판 목록 불러오기 (수정됨: 내가 쓴 글 강조 + 삭제 버튼)
        function loadBoard(boardType, origin = 'home', isBack = false) {
            if (!isBack) {
                if (origin === 'category') {
                    historyStack.push({type: 'category'}); 
                } else {
                    historyStack.push({type: 'home'});
                }
            }
            
            const boardContainer = document.getElementById('board-container');
            boardContainer.innerHTML = '';
            
            const titles = {
                'free': '자유게시판', 'secret': '비밀게시판', 'adult': '성인게시판',
                'graduate': '졸업생게시판', 'freshman': '새내기게시판', 'my': '내가 쓴 글'
            };
            document.getElementById('sub-title').innerText = titles[boardType];

            const postIds = DB.boards[boardType] || [];
            
            if(postIds.length === 0) {
                boardContainer.innerHTML = `<div style="text-align:center; padding:50px; color:#aaa;">게시글이 없습니다.</div>`;
            } else {
                postIds.forEach(id => {
                    const post = DB.posts[id];

                    // DB.posts[id]가 삭제되어 undefined일 경우 건너뜀 (안전장치)
                    if (!post) return;

                    // 내용 미리보기 처리 (<img 제거>, 줄바꿈 제거)
                    let previewContent = post.content.replace(/<img[^>]*>/g, "").replace(/\n/g, ' ');

                    // ★ 핵심 수정 1: 내 글인지 확인 (createPost 때 저장한 isMe 활용)
                    const isMyPost = post.isMe === true;

                    // ★ 핵심 수정 2: 내 글이면 클래스 추가 (CSS 적용)
                    const itemClass = isMyPost ? 'post-item my-post' : 'post-item';

                    // ★ 핵심 수정 3: 내 글이면 삭제 버튼 생성
                    // event.stopPropagation() : 버튼 누를 때 글 상세로 이동하는 것 방지
                    const deleteBtn = isMyPost 
                        ? `<button class="btn-delete" onclick="event.stopPropagation(); deletePost('${id}', '${boardType}')">삭제</button>` 
                        : '';

                    let html = `
                    <div class="${itemClass}" onclick="loadPost('${id}', '${boardType}', '${origin}')">
                        <!-- 제목과 삭제 버튼을 한 줄에 배치 (flex) -->
                        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                            <div class="post-title" style="flex:1;">${post.title}</div>
                            ${deleteBtn}
                        </div>
                        
                        <div class="post-desc">${previewContent}</div>
                        <div class="post-meta">
                            <span>${post.board}</span>
                            <div class="post-stats">
                                <span class="color-red"><i class="fas fa-thumbs-up"></i> ${post.likes}</span>
                                <span class="color-teal"><i class="fas fa-comment-dots"></i> ${post.comments.length}</span>
                            </div>
                        </div>
                    </div>`;
                    boardContainer.innerHTML += html;
                });
            }
            switchScreen('board-list');
        }

        // 게시글 상세 내용 불러오기 (수정: '익명' 없이 '글쓴이'만 표시)
        function loadPost(postId, fromBoard = 'free', origin = 'home') {
            historyStack.push({type: 'board', val: fromBoard, origin: origin});
            
            const post = DB.posts[postId];
            if(!post) { alert('삭제된 게시글입니다.'); goBack(); return; }

            document.getElementById('detail-title').innerText = post.title;
            document.getElementById('detail-content').innerHTML = post.content;
            document.getElementById('detail-like').innerText = post.likes;
            document.getElementById('detail-comment-count').innerText = post.comments.length;
            document.getElementById('detail-view').innerText = Math.floor(Math.random() * 5000) + 100;
            
            // 본문 작성자 표시
            document.getElementById('detail-writer').innerText = post.isMe ? '익명(나)' : '익명';

            const commentArea = document.getElementById('detail-comments-area');
            commentArea.innerHTML = '';

            post.comments.forEach(c => {
                let badge = '';     // HOT, 나 배지
                let bgClass = '';   // 배경색 클래스
                
                // ★ 닉네임 표시 부분 변수화
                // 기본값: 굵은 글씨의 닉네임 (예: 익명1, 익명2...)
                let nameHtml = `<span style="font-weight:bold;">${c.nick}</span>`;

                // 1. [HOT] 배지
                if(c.isHot) {
                    badge += `<span style="background:#c62917; color:white; font-size:10px; padding:1px 3px; border-radius:3px; margin-left:5px;">HOT</span>`;
                }

                // 2. [나] (본인)
                if(c.isMe) {
                    badge += `<span class="my-tag">나</span>`;
                    bgClass = 'my-comment-bg'; 
                } 
                // 3. [글쓴이] (작성자)
                // ★ 수정된 부분: 닉네임이 '글쓴이'면, 기존 텍스트를 지우고 청록색 박스만 넣음
                else if (c.nick === '글쓴이') {
                    // '익명' 텍스트를 아예 없애고, 스타일 적용된 '글쓴이'만 할당
                    nameHtml = `<span class="writer-tag">글쓴이</span>`;
                }

                let html = `
                <div class="comment-item ${bgClass}">
                    <div class="comment-header">
                        <div style="display:flex; align-items:center;">
                            <!-- 닉네임 자리에 nameHtml이 들어감 -->
                            ${nameHtml}
                            ${badge}
                        </div>
                    </div>
                    <div class="comment-body">${c.text}</div>
                </div>`;
                commentArea.innerHTML += html;
            });

            switchScreen('post-detail');
        }

// [글 등록 함수]
        function submitPost() {
            // 1. 입력값 가져오기
            const titleInput = document.getElementById('input-title');
            const contentInput = document.getElementById('input-content');
            const title = titleInput.value.trim();
            const content = contentInput.value.trim();

            // 2. 유효성 검사
            if (!title || !content) {
                alert("제목과 내용을 모두 입력해주세요.");
                return;
            }

            // 3. 새 게시글 생성 (ID는 현재 시간으로 고유하게 생성)
            const newId = 'user_post_' + Date.now();
            
            // createPost(id, title, content, board, likes, comments, isMe, isHot)
            // ★ 여기서 '자유게시판'으로 지정하고, isMe를 true로 설정합니다.
            createPost(newId, title, content, "자유게시판", 0, [], true, false);

            // 4. 입력창 초기화
            titleInput.value = '';
            contentInput.value = '';

            // 5. 모달 닫기 및 알림
            toggleModal();
            // alert('게시글이 등록되었습니다.'); // (필요하면 주석 해제)

            // 6. 작성된 글을 확인하도록 '자유게시판'으로 바로 이동
            // (방금 작성한 글이 맨 아래에 추가됩니다. 최신순 정렬은 배열 순서상 맨 뒤에 뜸)
            loadBoard('free');
        }
        // [다크 모드 토글 함수]
        function toggleDarkMode() {
            const body = document.body;
            const toggle = document.getElementById('dm-toggle');
            const circle = document.getElementById('dm-circle');
            
            // 1. 클래스 토글 (CSS 적용)
            body.classList.toggle('dark-mode');
            
            // 2. 현재 상태 확인
            const isDark = body.classList.contains('dark-mode');

            // 3. 토글 스위치 애니메이션 & 색상 변경
            if (isDark) {
                toggle.style.background = '#c62917'; // 켜졌을 때 빨간색 (에타 포인트 컬러)
                circle.style.left = '22px';          // 오른쪽으로 이동
            } else {
                toggle.style.background = '#ddd';    // 꺼졌을 때 회색
                circle.style.left = '2px';           // 왼쪽으로 이동
            }
        }
        // [쪽지 팝업 열기/닫기 함수]
        function openMsgPopup(sender, time, content) {
            document.getElementById('popup-sender').innerText = sender;
            document.getElementById('popup-time').innerText = time;
            document.getElementById('popup-text').innerText = content; // 줄바꿈 적용됨
            document.getElementById('msg-detail-modal').style.display = 'flex';
        }

        function closeMsgPopup() {
            document.getElementById('msg-detail-modal').style.display = 'none';
        }
        goHome(); // 앱 시작 시 홈 화면 로드
    </script>
</body>
</html>